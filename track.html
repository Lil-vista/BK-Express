<!DOCTYPE html>
<html lang="tk">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>√ù√ºk Yzarlama | TurkmenBridge</title>
  <link rel="stylesheet" href="style.css" />
</head>
<body>
  <header>
    <div class="logo">üåâ TurkmenBridge</div>
    <nav>
      <ul>
        <li><a href="index.html" data-i18n="home">Ba≈ü sahypa</a></li>
        <li><a href="services.html" data-i18n="services">Hyzmatlar</a></li>
        <li><a href="track.html" data-i18n="track">√ù√ºk Yzarlama</a></li>
        <li><a href="contact.html" data-i18n="contact">Habarla≈ümak</a></li>
      </ul>
    </nav>
    <select id="language-switcher">
      <option value="tk">T√ºrkmen√ße</option>
      <option value="ru">–†—É—Å—Å–∫–∏–π</option>
      <option value="en">English</option>
      <option value="zh">‰∏≠Êñá</option>
    </select>
  </header>

  <main>
    <section class="track-section">
      <h1 data-i18n="track">√ù√ºk Yzarlama</h1>
      <p data-i18n="track_instruction">√ù√ºk kody≈àyzy girizi≈à:</p>
      <input type="text" id="tracking-code" placeholder="Meselem: TRK123456" />
      <button onclick="trackShipment()" data-i18n="track_button">Yzarla</button>
      <div id="result"></div>
    </section>
  </main>

  <footer>
    <p>&copy; 2025 TurkmenBridge. All rights reserved.</p>
  </footer>

  <script src="script.js"></script>
  <script>
    function trackShipment() {
      const code = document.getElementById("tracking-code").value.trim();
      const resultDiv = document.getElementById("result");

      if (!code) {
        resultDiv.innerHTML = "<p style='color:red;'>Kody girizi≈à!</p>";
        return;
      }

      // Simul√Ωasi√Ωa √º√ßin: real serwer bilen baglany≈üyk √Ωerine
      fetch(`backend/track.php?code=${code}`)
        .then(response => response.json())
        .then(data => {
          if (data.found) {
            resultDiv.innerHTML = `
              <h3>√ù√ºk Maglumatlary:</h3>
              <p><strong>Status:</strong> ${data.status}</p>
              <p><strong>√ùerle≈ü√Ω√§n √Ωeri:</strong> ${data.location}</p>
              <p><strong>So≈àky t√§zelik:</strong> ${data.updated}</p>
            `;
          } else {
            resultDiv.innerHTML = "<p style='color:red;'>√ù√ºk tapylmady!</p>";
          }
        })
        .catch(error => {
          resultDiv.innerHTML = "<p style='color:red;'>Serwer bilen baglany≈üykda s√§wlik √Ω√ºze √ßykdy.</p>";
        });
    }
  </script>
</body>
</html>
